
# make λ‹¨κ³„ λ°μƒν•λ” μ¤λ¥ 
`[Makefile:146: all] Error 2` μ¤λ¥λ” `make` μ‹¤ν–‰ μ¤‘μ— λ°μƒν• λ¬Έμ λ΅, λ³΄ν†µ λΉλ“ κ³Όμ •μ—μ„ νΉμ • λ…λ Ήμ΄ μ‹¤ν¨ν–μ„ λ• λ‚νƒ€λ‚©λ‹λ‹¤. μ΄ μ¤λ¥μ μ›μΈμ„ μ°ΎκΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ λ°©λ²•μΌλ΅ λ¬Έμ λ¥Ό μ§„λ‹¨ν•  μ μμµλ‹λ‹¤.  

---

### 1. **μƒμ„Έ μ¤λ¥ λ©”μ‹μ§€ ν™•μΈ**
μ¤λ¥ λ©”μ‹μ§€κ°€ λ” μλ”μ§€ ν™•μΈν•μ„Έμ”. λ³΄ν†µ `Error 2` μ•μ½μ— μ‹¤ν¨ν• λ…λ Ήκ³Ό κ΄€λ ¨λ μμ„Έν• λ΅κ·Έκ°€ μ¶λ ¥λ©λ‹λ‹¤.  

```sh
make VERBOSE=1
```
λλ”  
```sh
make -j$(nproc) 2>&1 | tee build.log
```
μ„ λ…λ Ήμ„ μ‚¬μ©ν•μ—¬ μ „μ²΄ λΉλ“ λ΅κ·Έλ¥Ό νμΌ(`build.log`)μ— μ €μ¥ν•κ³  λ¶„μ„ν•  μλ„ μμµλ‹λ‹¤.  

---

### 2. **λ””λ²„κ·Έ λ¨λ“ ν™μ„±ν™” (`make`μ `-d` μµμ… μ‚¬μ©)**
Makefile λ‚΄λ¶€μ—μ„ μ–΄λ–¤ κ³Όμ •μ΄ μ‹¤ν–‰λμ—λ”μ§€ μƒμ„Έν•κ² ν™•μΈν•λ ¤λ©΄ `-d` μµμ…μ„ μ¶”κ°€ν•μ„Έμ”.  

```sh
make -d
```
μ¶λ ¥λ λ΅κ·Έμ—μ„ `Error 2`κ°€ λ°μƒν•κΈ° μ „μ— μ–΄λ–¤ λ…λ Ήμ΄ μ‹¤ν–‰λμ—λ”μ§€ ν™•μΈν•κ³ , μ‹¤ν¨ν• λ¶€λ¶„μ„ λ¶„μ„ν•λ©΄ λ©λ‹λ‹¤.  

---

### 3. **Makefile 146λ²μ§Έ μ¤„ ν™•μΈ**
μ¤λ¥ λ©”μ‹μ§€μ—μ„ `Makefile:146`μ΄λΌκ³  λμ–΄ μμΌλ―€λ΅ `Makefile`μ 146λ²μ§Έ μ¤„μ„ μ§μ ‘ ν™•μΈν•μ—¬ λ¬Έμ κ°€ μλ”μ§€ μ‚΄ν΄λ³΄μ„Έμ”.  

```sh
sed -n '146p' Makefile
```
λλ” μ§μ ‘ `Makefile`μ„ μ—΄μ–΄ ν•΄λ‹Ή μ¤„μ„ ν™•μΈν•μ„Έμ”. μ΄ λ¶€λ¶„μ΄ `all` λ€μƒκ³Ό κ΄€λ ¨λ κ·μΉ™μ„ ν¬ν•¨ν•κ³  μμ„ κ°€λ¥μ„±μ΄ ν½λ‹λ‹¤.  

---

### 4. **`CMakeLists.txt` ν™•μΈ λ° Makefile λ‹¤μ‹ μƒμ„±**
CMakeλ¥Ό μ‚¬μ©ν•μ—¬ Makefileμ„ μƒμ„±ν• κ²½μ°, `CMakeLists.txt`μ—μ„ μλ»λ μ„¤μ •μ΄ μμ„ μλ„ μμµλ‹λ‹¤.  

1. κΈ°μ΅΄ λΉλ“ λ””λ ‰ν† λ¦¬λ¥Ό μ‚­μ ν•κ³  λ‹¤μ‹ μƒμ„±  
    ```sh
    rm -rf build
    mkdir build
    cd build
    cmake ..
    make
    ```
2. CMake μΊμ‹λ¥Ό μ‚­μ ν•κ³  λ‹¤μ‹ μ„¤μ •  
    ```sh
    cmake --fresh ..
    make
    ```
3. `CMakeLists.txt`μ—μ„ μ¤λ¥κ°€ μ—†λ”μ§€ ν™•μΈ  
   - μ΅΄μ¬ν•μ§€ μ•λ” νμΌμ„ μ»΄νμΌν•λ ¤ ν•κ±°λ‚  
   - κ²½λ΅κ°€ μλ» μ§€μ •λ κ²½μ° λ°μƒν•  μ μμ  

---

### 5. **μμ΅΄μ„± λΌμ΄λΈλ¬λ¦¬ ν™•μΈ**
λΉλ“ κ³Όμ •μ—μ„ ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬κ°€ λ„λ½λ κ²½μ° λ°μƒν•  μ μμµλ‹λ‹¤. λ‹¤μ λ…λ ΉμΌλ΅ ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬κ°€ μ„¤μΉλμ–΄ μλ”μ§€ ν™•μΈν•μ„Έμ”.  

```sh
ldd <μ‹¤ν–‰νμΌ_λλ”_λΌμ΄λΈλ¬λ¦¬> | grep "not found"
```
λν•, `pkg-config`λ¥Ό μ‚¬μ©ν•μ—¬ ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬κ°€ μ λ€λ΅ μ„¤μΉλμ—λ”μ§€ ν™•μΈν•  μλ„ μμµλ‹λ‹¤.  

```sh
pkg-config --modversion <λΌμ΄λΈλ¬λ¦¬_μ΄λ¦„>
```

---

### 6. **`make` λ³‘λ ¬ λΉλ“ λ¬Έμ  ν™•μΈ**
μ—¬λ¬ κ°μ μ¤λ λ“(`-j` μµμ…)λ¥Ό μ‚¬μ©ν•μ—¬ λΉλ“ν•  λ• `Error 2`κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.  

```sh
make -j1
```
λ³‘λ ¬ λΉλ“λ¥Ό ν•΄μ ν•κ³  μ‹¤ν–‰ν•λ©΄, μ¤λ¥κ°€ μ–΄λ””μ—μ„ λ°μƒν•λ”μ§€ λ” λ…ν™•ν•κ² ν™•μΈν•  μ μμµλ‹λ‹¤.  

---

### 7. **μ»΄νμΌλ¬ λ²„μ „ λ° ν™κ²½ ν™•μΈ**
μ»΄νμΌλ¬ λ²„μ „μ΄ λ§μ§€ μ•κ±°λ‚, `CMakeLists.txt`μ—μ„ νΉμ •ν• μ»΄νμΌλ¬ μµμ…μ΄ ν•„μ”ν• κ²½μ°λ„ μμµλ‹λ‹¤. λ‹¤μ λ…λ ΉμΌλ΅ ν™κ²½μ„ ν™•μΈν•μ„Έμ”.  

```sh
gcc --version  # λλ” clang --version
cmake --version
```

---

μ„ λ°©λ²•λ“¤μ„ μμ„λ€λ΅ ν™•μΈν•λ©΄μ„ `Error 2`μ μ›μΈμ„ μ°ΎμΌλ©΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μμ„ κ²ƒμ…λ‹λ‹¤. μ¤λ¥ λ©”μ‹μ§€μ λ” λ§μ€ μ •λ³΄λ¥Ό κ³µμ ν•΄ μ£Όμ‹λ©΄ μ¶”κ°€λ΅ λ¶„μ„ν•΄ λ“λ¦΄ μ μμµλ‹λ‹¤. π